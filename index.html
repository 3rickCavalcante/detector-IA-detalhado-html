<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisador de Texto Acad√™mico - IA vs Humano</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh; padding: 20px; 
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; color: white; margin-bottom: 40px; }
        .header h1 { font-size: 2.5rem; margin-bottom: 10px; }
        .app-card { 
            background: white; border-radius: 15px; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.1); padding: 40px; 
            margin-bottom: 20px;
        }
        .text-area { 
            width: 100%; min-height: 200px; padding: 20px; 
            border: 2px solid #e2e8f0; border-radius: 10px; 
            font-size: 1rem; resize: vertical; margin-bottom: 20px;
            font-family: monospace; line-height: 1.6;
        }
        .analyze-btn { 
            background: #2563eb; color: white; border: none; 
            padding: 15px 30px; border-radius: 10px; font-size: 1.1rem; 
            cursor: pointer; width: 100%; margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        .analyze-btn:hover { background: #1d4ed8; transform: translateY(-2px); }
        .analyze-btn:disabled { background: #94a3b8; cursor: not-allowed; transform: none; }
        .result { margin-top: 20px; padding: 20px; background: #f8fafc; border-radius: 10px; }
        .stats { background: #e2e8f0; padding: 10px; border-radius: 5px; margin-bottom: 10px; }
        
        .padrao-detectado {
            background-color: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 3px;
            padding: 2px 4px;
            margin: 0 1px;
            cursor: help;
            position: relative;
        }
        .padrao-detectado:hover {
            background-color: #fde68a;
            z-index: 1000;
        }
        .padrao-detectado[data-tipo="ia_conclusivo"] { border-color: #dc2626; background-color: #fef2f2; }
        .padrao-detectado[data-tipo="ia_suspeito"] { border-color: #ea580c; background-color: #fff7ed; }
        .padrao-detectado[data-tipo="humano_forte"] { border-color: #059669; background-color: #ecfdf5; }
        
        .texto-destacado {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            line-height: 1.8;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .metricas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .metrica-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .metrica-valor {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 5px 0;
        }
        
        .contexto-info {
            background: #fffbeb;
            border-left: 4px solid #f59e0b;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .fator-analise {
            margin: 10px 0;
            padding: 12px;
            border-left: 4px solid #e2e8f0;
            background: #f8fafc;
            border-radius: 5px;
        }

        .fator-positivo {
            border-left-color: #10b981;
            background: #f0fdf4;
        }

        .fator-negativo {
            border-left-color: #ef4444;
            background: #fef2f2;
        }

        .resultado-destaque {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç Analisador de Texto Acad√™mico - IA vs Humano</h1>
            <p>Sistema radicalmente conservador - Assume humano at√© prova contr√°ria</p>
        </div>
        
        <div class="app-card">
            <div class="contexto-info">
                <strong>üéØ ABORDAGEM CORRIGIDA:</strong> Sistema agora considera <strong>95% humano por padr√£o</strong> 
                e s√≥ classifica como IA se encontrar <strong>evid√™ncias conclusivas e inequ√≠vocas</strong> de IA moderna.
            </div>

            <h3>üìù Cole seu texto para an√°lise</h3>
            <textarea class="text-area" id="textInput" placeholder="Cole o texto acad√™mico aqui..."></textarea>
            
            <div class="stats" id="textStats">
                Caracteres: 0 | Palavras: 0 | Frases: 0 | Par√°grafos: 0
            </div>
            
            <button class="analyze-btn" id="analyzeBtn">Analisar Texto</button>
            <div id="result"></div>
        </div>
    </div>
    
    <script>
        // ========== SISTEMA RADICALMENTE CONSERVADOR ==========
        // APENAS PADR√ïES CONCLUSIVOS DE IA MODERNA

        const PADROES_IA_CONCLUSIVOS = {
            // Apenas refer√™ncias EXPL√çCITAS e INEQU√çVOCAS a IA moderna
            'referencias_explicitas': [
                'chatgpt', 'gpt-4', 'gpt-3', 'gpt-3.5', 'openai', 'large language model',
                'como um modelo de ia', 'como uma intelig√™ncia artificial', 'assistente de ia',
                'modelo de linguagem grande', 'llm', 'transformers', 'bard', 'claude',
                'copilot', 'github copilot', 'midjourney', 'dall-e', 'stable diffusion'
            ],
            'comportamentos_estereotipados': [
                // Apenas comportamentos que HUMANOS N√ÉO TERIAM
                'n√£o tenho experi√™ncias pessoais', 'n√£o possuo emo√ß√µes', 
                'fui treinado pela openai', 'minha base de dados de treinamento',
                'como um algoritmo de ia', 'minha programa√ß√£o impede',
                'n√£o posso ter opini√µes pessoais', 'como sistema de ia,'
            ],
            'tecnicas_exclusivas': [
                // T√©cnicas que s√≥ fazem sentido mencionar em contexto de IA moderna
                'prompt engineering', 'fine-tuning', 'tokeniza√ß√£o', 'context window',
                'reinforcement learning from human feedback', 'rlhf', 'chain of thought',
                'few-shot learning', 'zero-shot learning', 'temperature setting',
                'top-p sampling', 'transformer architecture'
            ]
        };

        // PADR√ïES QUE S√ÉO PERFEITAMENTE NORMAIS EM TEXTOS HUMANOS
        const PADROES_HUMANOS_NORMAIS = {
            'expressoes_academicas': [
                '√© importante destacar', 'conv√©m ressaltar', 'considerando os fatores',
                'pode-se inferir', 'observa-se que', 'conclui-se que', 
                'de acordo com', 'verifica-se que', 'cabe salientar',
                '√© pertinente mencionar', 'pressup√µe-se que', 'constata-se que',
                'infere-se que', 'depreende-se que', 'evidencia-se que',
                '√© fundamental', 'vale ressaltar', 'importa destacar'
            ],
            'conectivos_formais': [
                'portanto', 'consequentemente', 'adicionalmente', 'notavelmente',
                'consideravelmente', 'significativamente', 'efetivamente',
                'sobretudo', 'principalmente', 'especialmente', 'particularmente'
            ],
            'estruturas_complexas': [
                '√© realizado', '√© observado', '√© verificado', '√© constatado',
                '√© poss√≠vel identificar', 'pode ser observado', 'deve ser considerado',
                's√£o apresentados', 'foram analisados', 'ser√° discutido'
            ]
        };

        class AnalisadorUltraConservador {
            constructor() {
                this.evidenciasIA = [];
                this.evidenciasHumanas = [];
                this.contextoHistorico = null;
            }

            analisarTexto(texto) {
                this.reset();
                
                // PRIMEIRO: Verificar contexto hist√≥rico (mais importante)
                this.analisarContextoHistorico(texto);
                
                // SEGUNDO: Buscar APENAS evid√™ncias CONCLUSIVAS de IA
                this.buscarEvidenciasConclusivasIA(texto);
                
                // TERCEIRO: Considerar caracter√≠sticas humanas normais
                this.registrarCaracteristicasHumanas(texto);
                
                return this.calcularResultadoFinal();
            }

            analisarContextoHistorico(texto) {
                // Detectar anos mencionados
                const anos = texto.match(/(19[0-9]{2}|20[0-1][0-9])\b/g) || [];
                const anosAntigos = anos.filter(ano => parseInt(ano) < 2018);
                
                if (anosAntigos.length > 0) {
                    this.contextoHistorico = {
                        tipo: 'historico',
                        anos: anosAntigos,
                        confianca: 0.98,
                        explicacao: `Texto referencia anos hist√≥ricos (${anosAntigos.join(', ')})`
                    };
                    this.evidenciasHumanas.push(this.contextoHistorico);
                }

                // Detectar refer√™ncias a tecnologias pr√©-IA
                const tecnologiasAntigas = [
                    'internet', 'world wide web', 'email', 'cd-rom', 'disquete',
                    'windows 95', 'windows 98', 'ms-dos', 'html', 'http',
                    'modem', 'discagem', 'provedor de acesso'
                ];

                const temTecnologiaAntiga = tecnologiasAntigas.some(tech => 
                    texto.toLowerCase().includes(tech)
                );

                if (temTecnologiaAntiga) {
                    this.evidenciasHumanas.push({
                        tipo: 'tecnologia_antiga',
                        confianca: 0.85,
                        explicacao: 'Menciona tecnologias pr√©-era da IA moderna'
                    });
                }
            }

            buscarEvidenciasConclusivasIA(texto) {
                const textoLower = texto.toLowerCase();
                let evidenciasEncontradas = 0;

                // Verificar refer√™ncias expl√≠citas
                Object.values(PADROES_IA_CONCLUSIVOS).flat().forEach(padrao => {
                    const regex = new RegExp(padrao, 'gi');
                    const matches = textoLower.match(regex);
                    
                    if (matches) {
                        evidenciasEncontradas += matches.length;
                        matches.forEach(match => {
                            this.evidenciasIA.push({
                                tipo: 'ia_conclusivo',
                                padrao: match,
                                confianca: 0.95,
                                explicacao: `Refer√™ncia expl√≠cita a IA moderna: "${match}"`
                            });
                        });
                    }
                });

                // Verificar incoer√™ncias temporais
                if (this.contextoHistorico && evidenciasEncontradas > 0) {
                    this.evidenciasIA.push({
                        tipo: 'incoerencia_temporal',
                        confianca: 0.99,
                        explicacao: `INCOER√äNCIA: Texto de ${this.contextoHistorico.anos[0]} menciona IA moderna`
                    });
                }
            }

            registrarCaracteristicasHumanas(texto) {
                // Caracter√≠sticas que s√£o FORTES indicadores humanos
                const marcadoresAutoria = [
                    'parto do pressuposto', 'acredito que', 'considero que', 
                    'na minha opini√£o', 'minha pesquisa', 'meu estudo',
                    'nesta investiga√ß√£o', 'neste trabalho', 'orientado por',
                    'coletei os dados', 'entrevistei', 'apliquei question√°rio'
                ];

                const textoLower = texto.toLowerCase();
                marcadoresAutoria.forEach(marcador => {
                    if (textoLower.includes(marcador)) {
                        this.evidenciasHumanas.push({
                            tipo: 'autoria_pessoal',
                            confianca: 0.90,
                            explicacao: `Marcador de autoria pessoal: "${marcador}"`
                        });
                    }
                });

                // Presen√ßa de erros humanos comuns
                const possiveisErros = [
                    /,\s*[eE]\s/g,  // V√≠rgula antes de "e"
                    /\.\s*[eE]\s/g  // Ponto antes de "e"
                ];

                possiveisErros.forEach(erro => {
                    const matches = texto.match(erro);
                    if (matches && matches.length > 0) {
                        this.evidenciasHumanas.push({
                            tipo: 'erro_humano',
                            confianca: 0.70,
                            explicacao: `Poss√≠vel erro humano de pontua√ß√£o (${matches.length} ocorr√™ncias)`
                        });
                    }
                });
            }

            calcularResultadoFinal() {
                // BASE: 95% humano (at√© prova contr√°ria)
                let probabilidadeHumano = 0.95;
                let confianca = 0.8;
                let explicacao = "Texto considerado humano por padr√£o";

                // SE houver evid√™ncias CONCLUSIVAS de IA, ajustar drasticamente
                if (this.evidenciasIA.length > 0) {
                    const forcaEvidenciasIA = this.evidenciasIA.reduce((sum, ev) => sum + ev.confianca, 0);
                    
                    // Reduz probabilidade humana baseado na for√ßa das evid√™ncias
                    probabilidadeHumano = Math.max(0.05, 0.95 - (forcaEvidenciasIA * 0.8));
                    confianca = Math.min(0.95, 0.7 + (forcaEvidenciasIA * 0.25));
                    explicacao = `${this.evidenciasIA.length} evid√™ncia(s) conclusiva(s) de IA detectada(s)`;
                }

                // SE houver contexto hist√≥rico, refor√ßar humanidade
                if (this.contextoHistorico) {
                    probabilidadeHumano = Math.min(0.99, probabilidadeHumano + 0.03);
                    confianca = Math.min(0.95, confianca + 0.05);
                    explicacao += ". Contexto hist√≥rico identificado";
                }

                return {
                    probabilidadeHumano: Math.round(probabilidadeHumano * 1000) / 1000,
                    probabilidadeIA: Math.round((1 - probabilidadeHumano) * 1000) / 1000,
                    confianca: Math.round(confianca * 1000) / 1000,
                    explicacao,
                    evidenciasIA: this.evidenciasIA,
                    evidenciasHumanas: this.evidenciasHumanas,
                    contextoHistorico: this.contextoHistorico
                };
            }

            reset() {
                this.evidenciasIA = [];
                this.evidenciasHumanas = [];
                this.contextoHistorico = null;
            }
        }

        function gerarRelatorio(result) {
            const humanProb = Math.round(result.probabilidadeHumano * 100);
            const iaProb = Math.round(result.probabilidadeIA * 100);
            const confidence = Math.round(result.confianca * 100);

            let veredito = '‚úÖ PROVAVELMENTE HUMANO';
            let vereditoColor = '#059669';
            let vereditoBg = '#ecfdf5';

            if (iaProb >= 50) {
                veredito = 'ü§ñ POSS√çVEL IA DETECTADA';
                vereditoColor = '#dc2626';
                vereditoBg = '#fef2f2';
            } else if (iaProb >= 30) {
                veredito = '‚ö†Ô∏è  INCONCLUSIVO';
                vereditoColor = '#f59e0b';
                vereditoBg = '#fffbeb';
            }

            let html = `
                <div class="resultado-destaque" style="background: ${vereditoBg}; border: 2px solid ${vereditoColor};">
                    <h2 style="color: ${vereditoColor}; margin-bottom: 15px;">${veredito}</h2>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 15px;">
                        <div>
                            <div style="font-size: 2.5em; font-weight: bold; color: #059669;">${humanProb}%</div>
                            <div style="color: #6b7280; font-size: 0.9em;">Produ√ß√£o Humana</div>
                        </div>
                        <div>
                            <div style="font-size: 2.5em; font-weight: bold; color: #dc2626;">${iaProb}%</div>
                            <div style="color: #6b7280; font-size: 0.9em;">Indicadores de IA</div>
                        </div>
                        <div>
                            <div style="font-size: 2.5em; font-weight: bold; color: #2563eb;">${confidence}%</div>
                            <div style="color: #6b7280; font-size: 0.9em;">Confiabilidade</div>
                        </div>
                    </div>
                    <div style="color: #6b7280; font-style: italic;">${result.explicacao}</div>
                </div>
            `;

            // Evid√™ncias de IA (se houver)
            if (result.evidenciasIA.length > 0) {
                html += `<h4>üîç Evid√™ncias de IA Detectadas:</h4>`;
                result.evidenciasIA.forEach(evidencia => {
                    html += `
                        <div class="fator-analise fator-negativo">
                            <strong>${evidencia.tipo.replace('_', ' ').toUpperCase()}</strong>
                            <div style="color: #6b7280; font-size: 0.9em; margin-top: 5px;">
                                ${evidencia.explicacao} (Confian√ßa: ${Math.round(evidencia.confianca * 100)}%)
                            </div>
                        </div>
                    `;
                });
            }

            // Evid√™ncias Humanas
            if (result.evidenciasHumanas.length > 0) {
                html += `<h4>‚úÖ Indicadores de Autoria Humana:</h4>`;
                result.evidenciasHumanas.forEach(evidencia => {
                    html += `
                        <div class="fator-analise fator-positivo">
                            <strong>${evidencia.tipo.replace('_', ' ').toUpperCase()}</strong>
                            <div style="color: #6b7280; font-size: 0.9em; margin-top: 5px;">
                                ${evidencia.explicacao} (Confian√ßa: ${Math.round(evidencia.confianca * 100)}%)
                            </div>
                        </div>
                    `;
                });
            }

            // Contexto Hist√≥rico
            if (result.contextoHistorico) {
                html += `
                    <div class="contexto-info">
                        <strong>üìú CONTEXTO HIST√ìRICO IDENTIFICADO:</strong><br>
                        ${result.contextoHistorico.explicacao}. Textos hist√≥ricos s√£o considerados humanos por padr√£o.
                    </div>
                `;
            }

            // M√©tricas de Confian√ßa
            html += `
                <div class="metricas">
                    <div class="metrica-card">
                        <div>Base de Confian√ßa</div>
                        <div class="metrica-valor" style="color: #059669">95%</div>
                        <small>Assume humano at√© prova contr√°ria</small>
                    </div>
                    <div class="metrica-card">
                        <div>Evid√™ncias IA</div>
                        <div class="metrica-valor" style="color: ${result.evidenciasIA.length > 0 ? '#dc2626' : '#059669'}">
                            ${result.evidenciasIA.length}
                        </div>
                        <small>${result.evidenciasIA.length > 0 ? 'Padr√µes detectados' : 'Nenhum padr√£o conclusivo'}</small>
                    </div>
                    <div class="metrica-card">
                        <div>Indicadores Humanos</div>
                        <div class="metrica-valor" style="color: #059669">${result.evidenciasHumanas.length}</div>
                        <small>Marcadores de autoria</small>
                    </div>
                </div>
            `;

            return html;
        }

        function analisarTextoCompleto(texto) {
            const analisador = new AnalisadorUltraConservador();
            return analisador.analisarTexto(texto);
        }

        // Event listeners
        document.getElementById('textInput').addEventListener('input', function() {
            const text = this.value;
            const chars = text.length;
            const words = text.trim() ? text.trim().split(/\s+/).length : 0;
            const sentences = text.split(/[.!?]+/).length - 1;
            const paragraphs = text.split(/\n\s*\n/).filter(p => p.trim()).length;
            document.getElementById('textStats').innerHTML = 
                `Caracteres: ${chars} | Palavras: ${words} | Frases: ${sentences} | Par√°grafos: ${paragraphs}`;
        });

        document.getElementById('analyzeBtn').addEventListener('click', function() {
            const text = document.getElementById('textInput').value.trim();
            const resultDiv = document.getElementById('result');
            const button = document.getElementById('analyzeBtn');
            
            if (text.length < 50) {
                resultDiv.innerHTML = '<p style="color: red;">‚ö†Ô∏è Texto muito curto (m√≠nimo 50 caracteres)</p>';
                return;
            }
            
            button.disabled = true;
            button.textContent = 'Analisando (Abordagem Conservadora)...';
            resultDiv.innerHTML = '<p>‚è≥ Analisando com vi√©s pr√≥-humano...</p>';
            
            setTimeout(() => {
                try {
                    const result = analisarTextoCompleto(text);
                    const relatorioHTML = gerarRelatorio(result);
                    
                    resultDiv.innerHTML = relatorioHTML;
                } catch (error) {
                    console.error("Erro:", error);
                    resultDiv.innerHTML = '<p style="color: red;">‚ùå Erro na an√°lise. Tente novamente.</p>';
                } finally {
                    button.disabled = false;
                    button.textContent = 'Analisar Texto';
                }
            }, 800);
        });

        // Texto de exemplo hist√≥rico
        document.getElementById('textInput').value = `Este estudo, realizado em 1999, analisa os impactos da internet emergente na educa√ß√£o superior. Parto do pressuposto de que as novas tecnologias de comunica√ß√£o, quando adequadamente integradas, podem transformar as pr√°ticas pedag√≥gicas.

Conforme demonstrado pelos dados coletados em 1998 junto a universidades brasileiras, observa-se uma resist√™ncia inicial dos docentes em rela√ß√£o ao uso educacional da world wide web. No entanto, os resultados indicam que aqueles que participaram de programas de capacita√ß√£o mostraram maior abertura √† inova√ß√£o.

Considero que estes achados refor√ßam a import√¢ncia do investimento em desenvolvimento profissional docente, especialmente em um contexto de r√°pidas transforma√ß√µes tecnol√≥gicas. A pesquisa demonstra que, embora existam desafios, as potencialidades educacionais da internet s√£o significativas.`;

        document.getElementById('textInput').dispatchEvent(new Event('input'));
    </script>
</body>
</html>
